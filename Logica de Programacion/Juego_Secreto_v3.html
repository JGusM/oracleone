<meta charset="UTF-8">

<input>
<button>Verificar si acertó con el secreto</button>

<script>
    function aleatorio () {

        return Math.round(Math.random()*10)

    }

    function sortearNumeros (cantidad) {
        var secretos = [];
        var contador = 1;

        while (contador <= cantidad) {

            numeroAleatorio = aleatorio();
            secretos.push(numeroAleatorio);
            contador++;

        }

        return secretos

    }
    

   var secretos = sortearNumeros(4);

    console.log(secretos);

var input = document.querySelector("input");
input.focus();

function verificar () {
    
    var encontrado = false;
    
    for (var posicion = 0 ; posicion < secretos.length ; posicion++) {

        if (parseInt(input.value) == secretos[posicion]) {

            alert("Usted acertó");
            encontrado = true;
            break;
            
        }   
            
    }

    if (encontrado == false) {

        alert("Usted erró");

    }
    


    input.value = "";
    input.focus();
    
}

var button = document.querySelector("button");
button.onclick = verificar;


</script>

<!--
Transcripción
[00:00] Hola amigos, ya estamos básicamente en la recta final de nuestro curso Lógica de programación. Vamos a continuar trabajando con el último programa de juego secreto que habíamos realizado.

[00:15] Recordando lo que habíamos hecho, creamos una variable tipo array, donde le pasamos como parámetro cuatro valores fijos, que eran esos números impares entre el 1 y el 10, y le pedíamos al usuario que nos ingrese un valor y nuestra función verificar validaba si el número del usuario coincidía con alguno de esos valores.

[00:41] Ahora, solo para añadir un poco de complejidad a nuestro programa y para aprender otros conceptos de programación, imagínense que necesitamos que estos números sean aleatorios e incluso que sea un parámetro la cantidad de elementos que queremos que nuestro arreglo tenga.

[01:03] Entonces, por ejemplo, vamos a crear una función donde le digamos: "Yo quiero cuatro valores y que me los calcule en forma aleatoria, en forma randómica". Más o menos si lo tuviéramos que hacer manualmente, es como que digamos lo siguiente: Existe una función push para los arreglos, entonces, imagínense que no tenemos esto de aquí.

[01:32] Solo creamos aquí, estamos diciendo que cree una variable arreglo, no le estamos diciendo ni cuáles números ni cuántos elementos, y tenemos la función push que lo que hace es ingresar los valores. Teníamos estos de aquí. Antes de continuar, voy a guardar una nueva versión, solo para no perder lo que habíamos hecho en la anterior aula. Estoy en la carpeta correcta y estoy en mi versión 3.

[02:12] 5, 7 y 9. Entonces, con esta función push, con este comando push, le estoy pasando los valores aquí a secretos. Si yo vuelvo aquí, vamos a abrirlo ahora al programa versión 3, lo voy a guardar, esto estaría funcionando perfectamente. 1, usted erró. No hubo ningún cambio, solo aquí cambiamos la estructura.

[02:57] Bueno, continuando, vamos a eliminar esto de aquí y vamos a ver cómo podemos generar eso. Primeramente, no nos olvidemos que aquí yo había guardado nuestra función para calcular números aleatorios. Entonces, si quiero números aleatorios, lo que podría haber hecho es hacer lo siguiente: secretos, secretos, entonces, si son cuatro, escribo cuatro veces mi arreglo y le paso push con la variable randómica.

[03:46] Ahora, esto de aquí escribir es bastante tedioso. Ya aprendimos a hacer funciones, entonces, lo primero que vamos a hacer es hacer una función que se llame aleatoria. Function aleatorio, no va a recibir nada como parámetro, y lo que nos va a retornar es esto de aquí. Perfecto.

[04:26] Entonces, aquí, ya yo podría haber dicho aleatorio. Y cuatro veces. Perfecto. Ahora, imagínense que como lo hayamos dicho anteriormente, no queremos esto de aquí. Lo que queremos es que yo llamo una función que podemos nombrar sortear números, porque aquí yo estoy escribiendo cuatro para ingresar cuatro elementos. Si quiero cinco tengo que volver a escribir uno, si quiero seis, más otro.

[05:20] Si quiero volver a tres, tengo que eliminar líneas. Entonces, no es una forma adecuada para trabajar en forma dinámica, entonces, para eso voy a crear una función donde yo le pase por parámetro la cantidad de números aleatorios que quiero que mi arreglo tenga. Vamos a colocar cuatro aquí solo como ejemplo.

[05:43] Y vamos a crear aquí nuestra función. Function, voy a copiar esto para que sea igual, y en este caso va a recibir un parámetro de entrada que va a ser la cantidad. ¿Qué es lo primero que tiene que tener nuestra función? Lo primero que tiene que tener nuestra función es el número aleatorio que vamos a sortear.

[06:31] Vamos a llamar en esta función a la función número aleatorio aquí arriba. Solo que tenemos que hacer un loop, una iteración, con la cantidad de veces que tenemos aquí, porque si le pasamos cuatro, esta función tiene que ejecutar cuatro veces y retornarnos el valor de secretos con los cuatro elementos que queremos.

[07:00] Entonces, para ello, vamos a usar un while, podemos usar for o while independientemente, solo que para el while necesito un contador. Entonces, ya vamos a crear nuestra variable contador y le vamos a pasar como parámetro 1. Entonces, mientras contador sea menor o igual que cantidad, entonces que me haga esto de aquí.

[07:27] Necesito crear mi variable secretos y definirla con nada, solo le estoy diciendo que es un arreglo pero no le estoy pasando absolutamente nada. Entonces, aquí vale destacar que puedo tener el mismo nombre, porque aquí secretos está dentro de una función, entonces, el ámbito de aplicación de esta variable secretos es solo dentro de esta función.

[07:54] No influye ni afecta que aquí yo tenga secretos y que aquí también yo tenga secretos. ¿Qué me va a retornar mi función? Ya lo vamos a escribir aquí. Me tiene que retornar secretos. Perfecto. Y para no olvidar, mi while en algún lugar tiene que tener un contador ++. Perfecto. Este número aleatorio tengo que calcularlo aquí, dentro de mi while.

[08:42] ¿Cómo hago para atribuir, ir aumentándole a mi variable secretos, en este caso, todos los números aleatorios que yo estoy capturando aquí? Entonces, lo que yo voy a hacer es secretos.push y le voy a pasar el número aleatorio. Entonces, básicamente, ¿qué va a hacer hasta aquí mi función?

[09:16] Estoy llamando a sortear números, le estoy pasando cuatro. Entonces, va a crear una variable arreglo vacía, no sabe el tamaño, y he definido mi contador. Va a ser esta iteración de 1 a 4, cuatro veces. Entonces, definimos nuestro número aleatorio, aquí lo llamamos a esta función, e ingresamos, adicionamos con la función push ese número aleatorio y hacemos nuestro contador ++ y nos va a retornar secretos.

[09:52] Vamos a guardar y solo aquí vamos a colocar una forma de mirar en la consola de desarrollador los valores que tenemos en variables, es usando esta función console.log, y aquí vamos a pasar secretos. Ya van a ver para qué estoy usando eso. Voy a guardar y voy a ir a mi programa. Actualizo, "Ctrl + Shif + I" para ver el ambiente aquí de desarrollador. ¿Qué es lo que tengo? 8, 3, 2 y 7.

[10:38] 3, 5, 9 y 9. 10, 3, 5 y 2. 3, 8, 7 y 10. 2, 10, 5 y 2. Son los valores aleatorios que me está generando. Entonces, yo puedo, aquí 1, estoy trabajando con estos valores, 2, 10, 5 y 2 que fue la última actualización. Con el 1 me dice que yo erré. Vamos a lanzar el 10. Usted acertó. Solo que, fíjense, estoy generando números repetidos. Aquí tengo 3, 5, 9 y 9.

[11:18] Entonces, las oportunidades de acertar para la persona que está jugando son mucho menores, imagínense que vengan los cuatro números repetidos, él pierde bastantes chances de acertar. ¿Cómo podemos mejorar eso?
-->